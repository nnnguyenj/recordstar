{% extends "base.html" %}
{% block title %}{{ collection.name }}{% endblock %}
{% block content %}
<div class="container mt-4">
  {% if collection.cover_image %}
      <div class="text-center mb-4">
        <img src="{{ collection.cover_image.url }}" class="img-fluid rounded"
            style="max-height:300px; max-width:300px; object-fit:cover;" alt="Cover">
      </div>
    {% endif %}
  <h2>{{ collection.name }}</h2>
  <p class="text-muted">This collection is private.</p>

  <!-- collection_detail_limited.html -->
  {% if user.is_authenticated %}
    {% if not has_requested %}
      <form method="POST" action="{% url 'request_access' collection.id %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary">Request Access</button>
      </form>
    {% else %}
      <p class="text-muted">Access request sent. Waiting for approval.</p>
    {% endif %}
  {% endif %}

{% endblock %}
