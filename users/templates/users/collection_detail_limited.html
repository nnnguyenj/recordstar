{% extends "base.html" %}
{% block title %}{{ collection.name }}{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>{{ collection.name }}</h2>
  <p class="text-muted">This collection is private. You can only view its title.</p>

  <!-- collection_detail_limited.html -->
  {% if user.is_authenticated %}
    {% if not has_requested %}
      <form method="POST" action="{% url 'request_access' collection.id %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary">Request Access</button>
      </form>
    {% else %}
      <p class="text-muted">Access request sent. Waiting for approval.</p>
    {% endif %}
  {% endif %}

{% endblock %}
